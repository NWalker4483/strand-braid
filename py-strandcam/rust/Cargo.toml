[package]
name = "strandcam-cabi"
version = "0.1.0"
authors = ["Andrew Straw <strawman@astraw.com>"]
edition = "2021"
rust-version = "1.76"

[lib]
name = "strandcam"
crate-type = ["cdylib"]

[dependencies]
thiserror.workspace = true
eyre.workspace = true
lazy_static.workspace = true

strand-cam = { workspace = true, features = [
    "bundle_files",
    "plugin-process-frame",
    "flydra_feat_detect",
    "imtrack-absdiff",
] }
plugin-defs.workspace = true
ipp-sys = {workspace = true, optional = true}

ci2-async.workspace = true
ci2-pyloncxx.workspace = true

[build-dependencies]
cbindgen = { version = "0.25", default-features = false }
plugin-defs.workspace = true

[features]
use_ipp = ["strand-cam/use_ipp", "ipp-sys"]
do_not_use_ipp = ["strand-cam/do_not_use_ipp"]
