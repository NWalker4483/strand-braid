[package]
name = "fmf-cli"
version =  "0.12.0-alpha.3" # braid release synchronized
authors = ["Andrew Straw <strawman@astraw.com>"]
autobins = false
edition = "2021"
rust-version="1.60"

[[bin]]
name = "fmf"
path = "src/fmf-cli.rs"
doc = false

[dependencies]
log = "0.4"
env_logger = "0.8"
structopt = "0.3"
chrono = {version="0.4.27", default-features=false, features=["clock", "std", "wasmbind"]}
anyhow = "1.0"
glob = "0.3"
image = {version="0.24.2", default-features=false, features=["jpeg","png","bmp","pnm"]}
machine-vision-formats = "0.1"

timestamped-frame = {path="../../timestamped-frame"}
fmf = {path=".."}
convert-image = { path = "../../convert-image" }
basic-frame = { path = "../../basic-frame" }
simple-frame = { path = "../../simple-frame" }

webm = {version="1", optional=true}
mp4-writer = { path = "../../media-utils/mp4-writer", features=["openh264"] }
ci2-remote-control = { path = "../../ci2-remote-control"}

nvenc = {path="../../nvenc"}

[dev-dependencies]
tempfile = "3.4.0"

[features]
import-webm = ["webm"]
backtrace = ["anyhow/backtrace", "mp4-writer/backtrace", "convert-image/backtrace", "fmf/backtrace"]
